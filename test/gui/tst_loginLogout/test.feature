@only
Feature:  Logout users
  As a user
  I want to be able to login and logout of my account
  So that I can protect my work and identity and be assured of privacy

  Background:
    Given user "Alice" has been created on the server with default attributes and without skeleton files

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed


  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed


  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed

  Scenario: login with oauth2 enabled
      Given app "oauth2" has been "enabled" on the server
      And the user has started the client
      When the user adds the following account with oauth2 enabled:
          | server   | %local_server% |
          | user     | Alice          |
          | password | 1234           |
      Then the account with displayname "Alice Hansen" and host "%local_server_hostname%" should be displayed
